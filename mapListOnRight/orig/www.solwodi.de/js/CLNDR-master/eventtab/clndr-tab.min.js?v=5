function ClndrTab(e,t,a,n,r){r=r||"[]";for(var l=["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],o=[],i=1;i<=12;i++)"month_name_"+i+"-1"in r&&o.push({month:l[i-1],translation:r["month_name_"+i+"-1"]});for(var d=["Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","Sonntag"],s=["Mo","Di","Mi","Do","Fr","Sa","So"],c=0;c<=6;c++)"weekday_name_"+c+"-1"in r&&(d[(c-1+7)%7]=r["weekday_name_"+c+"-1"]),"weekday_name_"+c+"-2"in r&&(s[(c-1+7)%7]=r["weekday_name_"+c+"-2"]);var h=[];$.each(e,function(e,t){var a=new Date(t.startDate),n=t.startDate===t.endDate?a:new Date(t.endDate);do{h[a.getFullYear()]||(h[a.getFullYear()]=[]),h[a.getFullYear()][l[a.getMonth()]]||(h[a.getFullYear()][l[a.getMonth()]]=[]),h[a.getFullYear()][l[a.getMonth()]][a.getDate()]?h[a.getFullYear()][l[a.getMonth()]][a.getDate()]+="\n"+t.title:h[a.getFullYear()][l[a.getMonth()]][a.getDate()]=t.title,a.setTime(a.getTime()+864e5)}while(a!==n&&a.getTime()<=n.getTime())});var m=1!==t,y=m?"tabindex='0'":"",u=m?"clndr_targetable":"",g="<div class='clndr-controls'><div aria-label=\"vorheriger Monat\" class='clndr-control-button clndr-previous-button "+u+"' "+y+"></div><div class='month' aria-live='polite'><%= month %></div><div aria-label=\"nächster Monat\" class='clndr-control-button clndr-next-button rightalign "+u+"' "+y+"></div></div><table class='clndr-table' style=\"border:0;\"><thead><tr class='header-days'><% for(var i = 0; i < daysOfTheWeek['short'].length; i++) { %><th scope='col' class='header-day' ><abbr class='clndr-abbr' title='<%=daysOfTheWeek['full'][i] %>'><%= daysOfTheWeek['short'][i] %></abbr></th><% } %></tr></thead><tbody><% for(var i = 0; i < numberOfRows; i++){ %><tr><% for(var j = 0; j < 7; j++){ %><% var d = j + i * 7; %><td class='<%= days[d].classes %>' title='<%= daysOfTheWeek['dayTitles'][year] && daysOfTheWeek['dayTitles'][year][month] && daysOfTheWeek['dayTitles'][year][month][days[d].day] ? daysOfTheWeek['dayTitles'][year][month][days[d].day] : '' %>'><div class='day-contents'><%= days[d].day %></div></td><% } %></tr><% } %></tbody></table>"+(m?'<div class="sr-only calendar-message" aria-live="polite"></div>':"");moment.locale("de");var v=moment().format("YYYY-MM-DD"),b=1==t?moment(v).endOf("month").format("YYYY-MM-DD"):moment(v).add(t-1,"Month").endOf("month").format("YYYY-MM-DD"),f=$(".eventclndr-tab.clndr-tab"+n);f.clndr({template:g,events:e,daysOfTheWeek:{short:s,full:d,dayTitles:h},ignoreInactiveDaysInSelection:!0,constraints:{startDate:v,endDate:b},clickEvents:{click:function(e){var t=e.date._i;!(e.events.length>0)||jQuery.inArray("next-month",e.element.classList)>=0||jQuery.inArray("past",e.element.classList)>=0||($("body").append($("<a />").attr({id:"clicker-"+t,href:"/veranstaltungen/index.php?tag="+t+a,rel:"nofollow",style:"visibility:hidden;display:none;"})),setTimeout(function(){document.getElementById("clicker-"+t).click()},200))}},multiDayEvents:{singleDay:"date",endDate:"endDate",startDate:"startDate"},showAdjacentMonths:!0,adjacentDaysChangeMonth:!1,doneRendering:function(){$(".clndr-table .event").each(function(){$(this).attr("tabindex",0).addClass("clndr_targetable")}),$(".clndr_targetable.inactive").removeClass("clndr_targetable").attr("tabindex",""),$(".clndr .clndr-controls .month").each(function(){var e=$(this),t=e.text();o.forEach(function(a){var n=t.replace(a.month,a.translation);t!==n&&e.html(n)})})}}),$(document).on("keydown",function(e){if(13===e.which){var t=$(":focus");if(t.hasClass("clndr_targetable"))return t.click(),!0}m&&(37===e.which&&(f.clndr().back(),$(".clndr-previous-button:not(.inactive)").focus()),39===e.which&&(f.clndr().forward(),$(".clndr-next-button").focus()))}),m&&$(".clndr-table, .clndr-controls").one("focusin",function(){$(".calendar-message").html("Navigate the months with Arrow-Left and Arrow-Right on your keyboard")})}